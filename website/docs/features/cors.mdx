---
id: cors
title: CORS with Yoga
sidebar_label: CORS
---

Yoga comes with CORS (Cross origin resource sharing) support out of the box - CORS can be configured when creating the server either by passing a CORSOptions object, or a builder function that returns the CORSOptions object.

```ts
export type CORSOptions =
  | {
      origin?: string[] | string
      methods?: string[]
      allowedHeaders?: string[]
      exposedHeaders?: string[]
      credentials?: boolean
      maxAge?: number
    }
  | false
```

### Example configuration using CORSOptions

```
const yogaApp = createServer({
  logging: logger,
  cors: {
      origin: 'http://localhost:4000',
      credentials: true,
      allowedHeaders: ['X-Custom-Header'],
      methods: ['POST'],
  }
})
```

This will return the following headers:

```
Access-Control-Allow-Origin: 'http://localhost:4000'
Access-Control-Allow-Credentials: true
Access-Control-Allow-Methods: POST
Access-Control-Allow-Headers: X-Custom-Header
```

### Example configuration using builder function

You can also pass a function to the cors property, that takes your request and contructs the options

```ts
const yogaApp = createServer({
  logging: logger,
  cors: (request: Request) => {
    const requestOrigin = request.headers.get('origin')
    return {
      origin: requestOrigin,
      credentials: true,
      allowedHeaders: ['X-Custom-Header'],
      methods: ['POST'],
    }
  },
})
```

This will return the same headers as the previous example, but take the `origin` of the request, and return it in the `Access-Control-Allow-Origin` header.

## Default CORS setting

By default, GraphQL Yoga will return `Access-Control-Allow-Origin: *` when preflight requests are made.

This means cross origin requests from browsers work out of the box - however it may be appropriate to lock

## Disabling CORS

You can disable CORS on your Yoga server by simply passing `false` as the cors property

**For example:**

```ts
const yogaApp = createServer({
  logging: logger,
  cors: false,
})
```

This will remove all Access-Control headers from the response.
